<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Bản đồ lịch sử Việt Nam (1911–1975)</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: Arial, sans-serif;
  background: #ffffff;
}
/* ===== LAYOUT ===== */
.container {
  display: flex;
  gap: 20px;
  padding: 20px;
}
/* ===== MAP ===== */
.map-box {
  width: 55%;
  border: 1px solid #ccc;
  padding: 10px;
}
.map-box svg path {
  fill: #dbeafe;
  stroke: #1e3a8a;
  cursor: pointer;
}
.map-box svg path:hover {
  fill: #93c5fd;
}
/* ===== PANEL ===== */
.panel {
  width: 45%;
  background: #f0f7ff;
  padding: 15px;
  border-radius: 6px;
}
.panel input {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
}
.panel h3 {
  margin-bottom: 10px;
  color: #1e3a8a;
}
.panel ul {
  padding-left: 18px;
}
/* ===== HISTORY ===== */
.history {
  margin-top: 20px;
  font-size: 14px;
}
</style>
</head>
<body>
<div class="container">
  <!-- BẢN ĐỒ -->
  <div class="map-box">
    <!-- BẠN CHỈ CẦN THAY FILE SVG -->
    <object data="vietnam.svg" type="image/svg+xml" width="100%" height="500"></object>
  </div>
  <!-- NỘI DUNG -->
  <div class="panel">
    <input type="text" placeholder="Tìm trận chiến / địa danh..." onkeyup="timKiem(this.value)">
    <h3 id="tenTinh">Chọn một tỉnh</h3>
    <ul id="danhSach"></ul>
    <div class="history">
      <b>Lịch sử đã xem:</b>
      <ul id="lichSu"></ul>
    </div>
  </div>
</div>
<script>
/* ===== DỮ LIỆU KHUNG (CHƯA CÓ NỘI DUNG) ===== */
const duLieu = {
  "Hà Nội": [],
  "Quảng Ninh": [],
  "Lạng Sơn": [],
  "Điện Biên": [],
  "Quảng Trị": [],
  "Gia Lai": [],
  "TP. Hồ Chí Minh": []
};
let hienTai = [];
/* ===== CHỌN TỈNH ===== */
function chonTinh(ten) {
  document.getElementById("tenTinh").innerText = ten;
  hienTai = duLieu[ten] || [];
  hienDanhSach(hienTai);
  luuLichSu(ten);
}
/* ===== HIỂN THỊ ===== */
function hienDanhSach(ds) {
  let ul = document.getElementById("danhSach");
  ul.innerHTML = ds.length
    ? ds.map(t => `<li>${t}</li>`).join("")
    : "<li><i>Chưa có nội dung</i></li>";
}
/* ===== TÌM KIẾM ===== */
function timKiem(tuKhoa) {
  let kq = hienTai.filter(t =>
    t.toLowerCase().includes(tuKhoa.toLowerCase())
  );
  hienDanhSach(kq);
}
/* ===== LỊCH SỬ ===== */
function luuLichSu(tinh) {
  let ls = JSON.parse(localStorage.getItem("lichSuTinh")) || [];
  if (!ls.includes(tinh)) ls.push(tinh);
  localStorage.setItem("lichSuTinh", JSON.stringify(ls));
  hienLichSu();
}
function hienLichSu() {
  let ls = JSON.parse(localStorage.getItem("lichSuTinh")) || [];
  document.getElementById("lichSu").innerHTML =
    ls.map(t => `<li>${t}</li>`).join("");
}
hienLichSu();
/* ===== KẾT NỐI SVG (QUAN TRỌNG) ===== */
document.addEventListener("load", () => {
  const svg = document.querySelector("object");
  svg.addEventListener("load", () => {
    const doc = svg.contentDocument;
    doc.querySelectorAll("path").forEach(p => {
      p.addEventListener("click", () => {
        chonTinh(p.getAttribute("name"));
      });
    });
  });
});
</script>
</body>
</html>
